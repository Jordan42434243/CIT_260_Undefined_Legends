<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Register for Exams • CSN Exam Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="../static/styles.css" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header__inner">
      <div><strong>Exam Registration</strong></div>
      <nav class="header__nav">
        <a href="dashboard">Home</a>
        <a href="/my-reservations">My Reservations</a>
        <a href="/faculty/reports">Faculty Reports</a>
        <a href="{{url_for('logout')}}">Logout</a>
      </nav>
    </div>
  </header>

  <main class="main grid grid--2">
    <section class="card">
      <!--<h2 class="card__title">Student Name: {{username}}</h2>-->
      <div class="grid">
        <div><span class="label">Name</span>
          <div class="help">{{first_name}} {{last_name}}</div>
        </div>

        <div><span class="label">Email</span>
          <div class="help">{{email}}</div>
        </div>

        <div><span class="label">Role</span>
          <div class="help">{{role}}</div>
        </div>
      </div>
    </section>

    <section class="card">
      <h2 class="card__title">Make a Reservation</h2>
      <form class="form" method="post" action="/register">
        <!-- 1) Select Exam -->
        <div class="form__row">
          <label class="label" for="exam">Exam</label>
          <select id="exam" name="exam_id" class="select" required>
            <!-- Server renders only exams with any open sessions -->
            <option value="">— Select Exam —</option>
            <option value="1">Math 120 Midterm</option>
            <option value="2">English 101 Final</option>
            <option value="3">CSN 101 Quiz 3</option>
          </select>
          <div class="help">You may hold up to 3 different exams.</div>
        </div>

        <!-- 2) Select Session (server typically filters based on chosen exam) -->
        <fieldset class="form__row" role="radiogroup" aria-labelledby="sessionsLegend">
          <legend id="sessionsLegend" class="label">Available Sessions</legend>
          <ul class="list">
            <!-- Example: enabled if seats left, disabled if full -->
            <li>
              <label>
                <input type="radio" name="session_id" value="101" required>
                Oct 10, 9:00–11:00 (12 seats left)
              </label>
            </li>
            <li>
              <label>
                <input type="radio" name="session_id" value="102">
                Oct 10, 13:00–15:00 (5 seats left)
              </label>
            </li>
            <li>
              <label class="help">
                <input type="radio" disabled>
                Oct 12, 10:00–12:00 (Full)
              </label>
            </li>
          </ul>
        </fieldset>

        <button class="button" type="submit">Confirm Reservation</button>
        <p class="help">You cannot book the same exam twice. Capacity: 20 seats per session.</p>
      </form>
    </section>

    <section class="card">
      <h3 class="card__title">My Reservations</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Exam</th>
            <th>When</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Math 120 Midterm</td>
            <td>Oct 10, 9:00–11:00</td>
            <td><span class="status status--ok">Active</span></td>
            <td>
              <form method="post" action="/cancel">
                <input type="hidden" name="registration_id" value="555">
                <button class="button button--ghost" type="submit">Cancel</button>
              </form>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="card">
      <h3 class="card__title">Faculty (quick view)</h3>
      <form class="form" method="get" action="/faculty/reports">
        <div class="form__row">
          <label class="label" for="exam-report">Exam</label>
          <select id="exam-report" name="exam_id" class="select" required>
            <option value="">— Select Exam —</option>
            <option value="1">Math 120 Midterm</option>
            <option value="2">English 101 Final</option>
          </select>
        </div>
        <button class="button" type="submit">View Roster</button>
      </form>
    </section>
  </main>

  <footer class="footer">© CSN Testing Center</footer>
</body>

</html>